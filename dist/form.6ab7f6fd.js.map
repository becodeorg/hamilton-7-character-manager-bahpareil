{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAcC,SAASC,eAAe,eAC5C,IAAIC,EAAgBF,SAASC,eAAe,gBAC5C,MAAME,EAASH,SAASC,eAAe,oBACjCG,EAAMJ,SAASC,eAAe,oBAC9BI,EAAOL,SAASC,eAAe,KAC/BK,EAAcC,oBAAoB,eAClCC,EAAOR,SAASC,eAAe,aAC/BQ,EAAYT,SAASC,eAAe,qBAC1C,IAAIS,EAAeV,SAASC,eAAe,gBACvCU,EAAQX,SAASY,cAAc,OAC/BC,EAAY,CAACC,YAAa,GAAIC,MAAO,GAAIC,KAAM,GAAIC,iBAAkB,IAGzElB,EAAYmB,iBAAiB,UAAU,WACnC,MAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcC,KAAKC,MAAM,IAGhCJ,EAAOD,iBAAiB,QAAQ,KAC5B,MAAMM,EAAiBL,EAAOM,OAC9Bd,EAAMe,aAAa,MAAO,GAAGF,KAC7Bb,EAAMe,aAAa,QAAS,kCAC5Bf,EAAMe,aAAa,KAAM,gBACzBxB,EAAcyB,YAAYhB,EAAA,GAElC,IAEAR,EAAOe,iBAAiB,SAcxB,SAAyBU,GACrBf,EAAUC,YAAcT,EAAKwB,MAC7BhB,EAAUE,MAAQL,EAAaW,cAC/BR,EAAUG,KAAOR,EAAKqB,MACtBhB,EAAUI,iBAAmBR,EAAUoB,MAEvCC,GACJ,IApBA1B,EAAIc,iBAAiB,SAErB,SAAsBU,GAClBvB,EAAKwB,MAAQ,GACbvB,EAAYuB,MAAQ,GACpBrB,EAAKqB,MAAQ,GACbpB,EAAUoB,MAAQ,GAClBlB,EAAMe,aAAa,MAAO,IAC1Bf,EAAMe,aAAa,QAAS,MAEhC,IAYA,MAAMI,EAAgBC,UAClB,IACI,MAAMC,QAAaC,EAAApC,GAAMqC,KAAK,mDAAoDrB,GAClFsB,QAAQC,IAAIJ,EAAKK,KAIrB,CAHE,MAAOC,GAELH,QAAQI,MAAMD,EAClB","sources":["ressource/js/form-script.js"],"sourcesContent":["import axios from \"axios\";\n\nconst image_input = document.getElementById(\"image-input\");\nlet display_image = document.getElementById(\"displayImage\");\nconst create = document.getElementById(\"create-character\");\nconst del = document.getElementById(\"delete-character\");\nconst desc = document.getElementById(\"x\");\nconst desc_editor = documentElementById(\"desc_editor\");\nconst name = document.getElementById(\"firstname\");\nconst shortDesc = document.getElementById(\"short-description\")\nlet uploaded_img = document.getElementById(\"uploaded_img\");\nlet image = document.createElement(\"img\");\nlet character = {description: \"\", image: \"\", name: \"\", shortDescription: \"\"};\nlet imgUrl = \"\";\n\nimage_input.addEventListener(\"change\", function() {\n    const reader = new FileReader();\n    reader.readAsDataURL(this.files[0]);\n    //imgUrl = reader.readAsDataURL(this.files[0]);\n\n    reader.addEventListener(\"load\", () => {\n        const uploaded_image = reader.result;\n        image.setAttribute(\"src\", `${uploaded_image}`);\n        image.setAttribute(\"class\", \"mx-auto rounded-full w-28 h-28\");\n        image.setAttribute(\"id\", \"uploaded_img\");\n        display_image.appendChild(image);\n    });   \n});\n\ncreate.addEventListener(\"click\", createCharacter)\ndel.addEventListener(\"click\", delCharacter);\n\nfunction delCharacter(e) {\n    desc.value = \"\";\n    desc_editor.value = \"\";\n    name.value = \"\";\n    shortDesc.value = \"\";\n    image.setAttribute(\"src\", \"\");\n    image.setAttribute(\"class\", \"w-0\");\n    //image_input.value = \"\";\n}\n\n\nfunction createCharacter(e) {\n    character.description = desc.value;\n    character.image = uploaded_img.readAsDataURL;\n    character.name = name.value;\n    character.shortDescription = shortDesc.value;\n\n    sendCharacter();\n}\n\nconst sendCharacter = async () => {\n    try {\n        const resp = await axios.post('https://character-database.becode.xyz/characters', character);\n        console.log(resp.data);\n    } catch (err) {\n        // Handle Error Here\n        console.error(err);\n    }\n};\n"],"names":["$fmRoT","parcelRequire","$2ea3a564803fff50$var$image_input","document","getElementById","$2ea3a564803fff50$var$display_image","$2ea3a564803fff50$var$create","$2ea3a564803fff50$var$del","$2ea3a564803fff50$var$desc","$2ea3a564803fff50$var$desc_editor","documentElementById","$2ea3a564803fff50$var$name","$2ea3a564803fff50$var$shortDesc","$2ea3a564803fff50$var$uploaded_img","$2ea3a564803fff50$var$image","createElement","$2ea3a564803fff50$var$character","description","image","name","shortDescription","addEventListener","reader","FileReader","readAsDataURL","this","files","uploaded_image","result","setAttribute","appendChild","e","value","$2ea3a564803fff50$var$sendCharacter","async","resp","$parcel$interopDefault","post","console","log","data","err","error"],"version":3,"file":"form.6ab7f6fd.js.map"}